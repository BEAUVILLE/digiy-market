
---

## 3Ô∏è‚É£ `index.html` ‚Äî Module DIGIY MARKET complet

üëâ Tu cr√©es un repo `digiy-market`  
üëâ Tu mets dedans `index.html` + le README  
üëâ Tu branches ton HUB : `LINKS.market = "https://beauville.github.io/digiy-market/"` (ou autre)

```html
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>DIGIY MARKET ‚Äî Annonces locales & services</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="description" content="DIGIY MARKET ‚Äî Module d'annonces locales & services, connect√© √† DIGIYLYFE (0% commission).">

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database-compat.js"></script>

  <style>
    :root{
      --bg:#020617;
      --bg-soft:#020818;
      --card:#020617;
      --card-alt:#020617;
      --accent:#facc15;
      --accent-soft:#f97316;
      --accent-soft2:#22c55e;
      --ink:#f9fafb;
      --muted:#9ca3af;
      --line:#1f2937;
      --danger:#ef4444;
      --good:#22c55e;
      --info:#38bdf8;
      --radius-xl:24px;
      --radius-lg:18px;
      --radius-md:12px;
      --shadow-soft:0 22px 50px rgba(15,23,42,0.95);
    }
    *{
      box-sizing:border-box;
      margin:0;
      padding:0;
      font-family:-apple-system,BlinkMacSystemFont,system-ui,"Segoe UI",sans-serif;
    }
    body{
      min-height:100vh;
      background:
        radial-gradient(circle at top, rgba(250,204,21,0.18), transparent 55%),
        radial-gradient(circle at bottom, rgba(34,197,94,0.12), transparent 60%),
        #020617;
      color:var(--ink);
      display:flex;
      justify-content:center;
      padding:12px;
    }
    .app{
      width:100%;
      max-width:1100px;
      min-height:100vh;
      background:linear-gradient(135deg,#020617,#020818,#020617);
      border-radius:24px;
      border:1px solid rgba(148,163,184,0.3);
      box-shadow:var(--shadow-soft);
      padding:14px 14px 18px;
      display:flex;
      flex-direction:column;
      position:relative;
      overflow:hidden;
    }
    .app::before{
      content:"";
      position:absolute;
      inset:-40%;
      background:
        radial-gradient(circle at 0% 0%, rgba(250,204,21,0.12), transparent 60%),
        radial-gradient(circle at 100% 100%, rgba(56,189,248,0.1), transparent 50%);
      pointer-events:none;
      opacity:0.9;
    }
    header{
      position:relative;
      z-index:2;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:8px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:8px;
    }
    .brand-logo{
      width:36px;
      height:36px;
      border-radius:14px;
      background:radial-gradient(circle at 30% 0%,var(--accent),var(--accent-soft));
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow:0 10px 25px rgba(250,204,21,0.6);
      font-size:18px;
    }
    .brand-text-title{
      font-size:15px;
      font-weight:800;
      letter-spacing:0.08em;
      text-transform:uppercase;
      color:var(--accent);
    }
    .brand-text-sub{
      font-size:11px;
      color:var(--muted);
    }
    .badge-env{
      font-size:10px;
      padding:4px 9px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.5);
      background:rgba(15,23,42,0.9);
      color:var(--muted);
    }
    main{
      position:relative;
      z-index:2;
      margin-top:10px;
      display:flex;
      flex-direction:column;
      gap:10px;
      flex:1;
    }
    .hero{
      background:radial-gradient(circle at top left,rgba(250,204,21,0.18),transparent 60%);
      border-radius:var(--radius-xl);
      border:1px solid rgba(148,163,184,0.5);
      padding:12px;
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .hero-top{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:10px;
    }
    .hero-title{
      font-size:16px;
      font-weight:700;
    }
    .hero-sub{
      font-size:11px;
      color:var(--muted);
    }
    .hero-pill{
      font-size:10px;
      padding:4px 8px;
      border-radius:999px;
      border:1px solid rgba(250,204,21,0.7);
      background:rgba(15,23,42,0.92);
      display:inline-flex;
      align-items:center;
      gap:6px;
    }
    .hero-dot{
      width:8px;
      height:8px;
      border-radius:999px;
      background:radial-gradient(circle,var(--accent),var(--accent-soft));
      box-shadow:0 0 12px rgba(250,204,21,0.9);
    }
    .hero-tags{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin-top:6px;
    }
    .hero-tag{
      font-size:10px;
      padding:3px 8px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.5);
      color:var(--muted);
      background:rgba(15,23,42,0.8);
    }
    .grid{
      display:grid;
      grid-template-columns:1.4fr 2fr;
      gap:10px;
      margin-top:6px;
    }
    @media(max-width:850px){
      .grid{
        grid-template-columns:1fr;
      }
      .app{
        border-radius:0;
        border:none;
        box-shadow:none;
      }
    }
    .card{
      background:radial-gradient(circle at top,rgba(15,23,42,0.95),#020617);
      border-radius:var(--radius-xl);
      border:1px solid rgba(30,64,175,0.4);
      padding:12px;
      box-shadow:0 14px 35px rgba(15,23,42,0.9);
    }
    .card-header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:6px;
    }
    .card-title{
      font-size:13px;
      font-weight:700;
      text-transform:uppercase;
      letter-spacing:0.08em;
      color:var(--muted);
    }
    .card-pill{
      font-size:10px;
      padding:3px 7px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.5);
      color:var(--muted);
    }
    form{
      display:flex;
      flex-direction:column;
      gap:8px;
      margin-top:4px;
    }
    .field{
      display:flex;
      flex-direction:column;
      gap:3px;
    }
    .field label{
      font-size:11px;
      color:var(--muted);
    }
    .field input, .field select, .field textarea{
      border-radius:var(--radius-md);
      border:1px solid var(--line);
      background:#020617;
      color:var(--ink);
      padding:8px 9px;
      font-size:12px;
      outline:none;
    }
    .field input::placeholder, .field textarea::placeholder{
      color:rgba(148,163,184,0.85);
    }
    .field textarea{
      min-height:60px;
      resize:vertical;
    }
    .row{
      display:flex;
      gap:8px;
    }
    .row > .field{
      flex:1;
    }
    @media(max-width:600px){
      .row{
        flex-direction:column;
      }
    }
    .helper{
      font-size:10px;
      color:var(--muted);
    }
    button{
      border:none;
      border-radius:999px;
      padding:8px 10px;
      font-size:12px;
      font-weight:600;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:6px;
      justify-content:center;
      background:linear-gradient(135deg,var(--accent),var(--accent-soft));
      color:#111827;
      transition:all 0.25s;
    }
    button:disabled{
      opacity:0.6;
      cursor:wait;
    }
    button:hover{
      transform:translateY(-1px);
      box-shadow:0 8px 20px rgba(250,204,21,0.5);
    }
    .status{
      margin-top:6px;
      font-size:11px;
      min-height:16px;
    }
    .status.good{color:var(--good);}
    .status.bad{color:var(--danger);}
    .filters{
      display:flex;
      gap:8px;
      margin-bottom:6px;
      flex-wrap:wrap;
    }
    .filter-chip{
      font-size:10px;
      padding:4px 8px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.6);
      background:rgba(15,23,42,0.95);
      color:var(--muted);
      cursor:pointer;
    }
    .filter-chip.active{
      border-color:var(--accent);
      color:var(--accent);
      background:rgba(250,204,21,0.08);
    }
    .list{
      display:flex;
      flex-direction:column;
      gap:6px;
      max-height:420px;
      overflow:auto;
      padding-right:4px;
    }
    .annonce{
      border-radius:var(--radius-lg);
      border:1px solid rgba(30,64,175,0.6);
      background:radial-gradient(circle at top,rgba(15,23,42,0.95),#020617);
      padding:8px;
      display:flex;
      flex-direction:column;
      gap:3px;
    }
    .annonce-header{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:6px;
    }
    .annonce-title{
      font-size:12px;
      font-weight:600;
    }
    .annonce-meta{
      font-size:10px;
      color:var(--muted);
    }
    .annonce-tag{
      font-size:10px;
      padding:3px 7px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.6);
      background:rgba(15,23,42,0.95);
      color:var(--muted);
      white-space:nowrap;
    }
    .annonce-body{
      font-size:11px;
      color:var(--muted);
    }
    .annonce-foot{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-top:3px;
      font-size:10px;
      color:var(--muted);
      gap:8px;
      flex-wrap:wrap;
    }
    .price{
      font-weight:700;
      color:var(--accent-soft2);
    }
    .phone{
      font-weight:500;
      color:var(--info);
    }
    .btn-mini{
      border-radius:999px;
      padding:4px 7px;
      font-size:10px;
      background:rgba(15,23,42,0.9);
      color:var(--muted);
      border:1px solid rgba(148,163,184,0.6);
      cursor:pointer;
    }
    .btn-mini:hover{
      border-color:var(--accent);
      color:var(--accent);
    }
    footer{
      position:relative;
      z-index:2;
      margin-top:8px;
      font-size:9px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
      gap:6px;
      flex-wrap:wrap;
    }
    footer span{
      color:var(--accent);
      font-weight:500;
    }
  </style>
</head>
<body>
<div class="app">
  <header>
    <div class="brand">
      <div class="brand-logo">üõí</div>
      <div>
        <div class="brand-text-title">DIGIY MARKET</div>
        <div class="brand-text-sub">Annonces locales & services ‚Ä¢ 0% commission</div>
      </div>
    </div>
    <div class="badge-env">
      Connect√© HUB DIGIYLYFE
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="hero-top">
        <div>
          <div class="hero-title">Publier une annonce en 30 secondes.</div>
          <div class="hero-sub">
            Services, biens, jobs, opportunit√©s. Contact direct par t√©l√©phone ou WhatsApp,
            sans commission, sans interm√©diaire.
          </div>
        </div>
        <div class="hero-pill">
          <span class="hero-dot"></span>
          <span>Mix Dakar Express + Le Bon Coin, version DIGIY.</span>
        </div>
      </div>
      <div class="hero-tags">
        <div class="hero-tag">Rapide √† publier</div>
        <div class="hero-tag">Pro ou particulier</div>
        <div class="hero-tag">Local & souverain</div>
        <div class="hero-tag">0% commission</div>
      </div>
    </section>

    <section class="grid">
      <!-- FORMULAIRE -->
      <div class="card">
        <div class="card-header">
          <div class="card-title">Nouvelle annonce</div>
          <div class="card-pill">Mode terrain ‚Ä¢ Simple & clair</div>
        </div>

        <form id="annonceForm">
          <div class="field">
            <label for="titre">Titre de l‚Äôannonce</label>
            <input id="titre" type="text" placeholder="Ex. Peintre disponible Saly / Ngaparou" required>
          </div>

          <div class="row">
            <div class="field">
              <label for="categorie">Cat√©gorie</label>
              <select id="categorie" required>
                <option value="">Choisir‚Ä¶</option>
                <option>Services</option>
                <option>Mat√©riel & outils</option>
                <option>Immobilier</option>
                <option>V√©hicules & motos</option>
                <option>Emploi & missions</option>
                <option>Autre</option>
              </select>
            </div>
            <div class="field">
              <label for="type">Type</label>
              <select id="type" required>
                <option value="">Choisir‚Ä¶</option>
                <option>Offre</option>
                <option>Demande</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div class="field">
              <label for="prix">Prix (optionnel)</label>
              <input id="prix" type="number" min="0" step="500" placeholder="Ex. 25 000">
              <div class="helper">Laisser vide si √† discuter.</div>
            </div>
            <div class="field">
              <label for="zone">Zone</label>
              <input id="zone" type="text" placeholder="Ex. Saly, Ngaparou, Dakar‚Ä¶" required>
            </div>
          </div>

          <div class="field">
            <label for="tel">T√©l√©phone / WhatsApp</label>
            <input id="tel" type="tel" placeholder="+221 77 000 00 00" required>
          </div>

          <div class="field">
            <label for="description">Description</label>
            <textarea id="description" placeholder="Explique clairement ce que tu offres ou cherches‚Ä¶"></textarea>
          </div>

          <button type="submit" id="btnSubmit">
            üöÄ Publier mon annonce
          </button>
          <div id="status" class="status"></div>
        </form>
      </div>

      <!-- LISTE ANNONCES -->
      <div class="card">
        <div class="card-header">
          <div class="card-title">Annonces r√©centes</div>
          <div class="card-pill" id="listInfo">Chargement‚Ä¶</div>
        </div>

        <div class="filters">
          <button class="filter-chip active" data-cat="all">Tout</button>
          <button class="filter-chip" data-cat="Services">Services</button>
          <button class="filter-chip" data-cat="Mat√©riel & outils">Mat√©riel</button>
          <button class="filter-chip" data-cat="Immobilier">Immobilier</button>
          <button class="filter-chip" data-cat="V√©hicules & motos">V√©hicules</button>
          <button class="filter-chip" data-cat="Emploi & missions">Emploi</button>
        </div>

        <div class="list" id="annoncesList">
          <!-- Annonces inject√©es ici -->
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div>DIGIY MARKET ‚Ä¢ <span>Module connect√© DIGIYLYFE</span></div>
    <div>Annonce ‚Üí Contact direct ‚Üí Paiement direct. Pas de gatekeeper.</div>
  </footer>
</div>

<script>
  // ===== Firebase DIGIYLYFE =====
  const firebaseConfig = {
    apiKey: "AIzaSyBqEQWoE2iC7_rp-u4riilNVHolcP2o0B0",
    authDomain: "digiylyfe-ecosystem.firebaseapp.com",
    databaseURL: "https://digiylyfe-ecosystem-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "digiylyfe-ecosystem"
  };

  if (!firebase.apps.length) {
    firebase.initializeApp(firebaseConfig);
    console.log("üî• Firebase DIGIYLYFE connect√© (MARKET)");
  }
  const db = firebase.database();

  const form = document.getElementById("annonceForm");
  const statusEl = document.getElementById("status");
  const btnSubmit = document.getElementById("btnSubmit");
  const listEl = document.getElementById("annoncesList");
  const listInfo = document.getElementById("listInfo");

  let annoncesCache = [];
  let currentFilter = "all";

  function setStatus(msg, type){
    statusEl.textContent = msg || "";
    statusEl.className = "status" + (type ? " " + type : "");
  }

  function formatPrice(value){
    if(!value && value !== 0) return "√Ä discuter";
    const n = Number(value);
    if(isNaN(n)) return "√Ä discuter";
    return n.toLocaleString("fr-FR") + " F";
  }

  function formatDate(ts){
    if(!ts) return "";
    try{
      const d = new Date(ts);
      return d.toLocaleString("fr-FR", { day:"2-digit", month:"2-digit", hour:"2-digit", minute:"2-digit" });
    }catch(e){
      return "";
    }
  }

  function applyFilter(){
    let data = annoncesCache.slice().sort((a,b) => b.createdAtTs - a.createdAtTs);
    if(currentFilter !== "all"){
      data = data.filter(a => a.categorie === currentFilter);
    }

    listEl.innerHTML = "";
    if(data.length === 0){
      const empty = document.createElement("div");
      empty.className = "helper";
      empty.textContent = "Aucune annonce pour le moment dans ce filtre.";
      listEl.appendChild(empty);
      listInfo.textContent = "0 annonce";
      return;
    }

    data.forEach(a => {
      const div = document.createElement("div");
      div.className = "annonce";
      div.innerHTML = `
        <div class="annonce-header">
          <div>
            <div class="annonce-title">${a.titre || "Annonce"}</div>
            <div class="annonce-meta">
              ${a.type || "Offre"} ‚Ä¢ ${a.categorie || "Cat√©gorie"} ‚Ä¢ ${a.zone || "Zone non pr√©cis√©e"}
            </div>
          </div>
          <div class="annonce-tag">${a.categorie || "Annonce"}</div>
        </div>
        <div class="annonce-body">
          ${a.description ? a.description : "<i>Pas de description d√©taill√©e.</i>"}
        </div>
        <div class="annonce-foot">
          <div>
            <span class="price">${formatPrice(a.prix)}</span>
            &nbsp;‚Ä¢&nbsp;
            <span class="phone">${a.tel || "Tel non pr√©cis√©"}</span>
          </div>
          <div>
            <button class="btn-mini" onclick="copyPhone('${(a.tel || "").replace(/'/g, "\\'")}')">Copier le num√©ro</button>
            ${a.tel ? `<button class="btn-mini" onclick="openWhats('${(a.tel || "").replace(/'/g, "\\'")}', '${(a.titre || "Annonce DIGIY").replace(/'/g, "\\'")}')">WhatsApp</button>` : ""}
          </div>
        </div>
      `;
      listEl.appendChild(div);
    });

    listInfo.textContent = data.length + " annonce(s)";
  }

  function copyPhone(phone){
    if(!phone) return;
    navigator.clipboard.writeText(phone).then(() => {
      alert("Num√©ro copi√© : " + phone);
    }).catch(() => {});
  }

  function openWhats(phone, titre){
    if(!phone) return;
    const msg = encodeURIComponent("Bonjour, je viens de DIGIY MARKET √† propos de : " + titre);
    const tel = phone.replace(/\s/g,"");
    window.open("https://wa.me/" + tel.replace("+","") + "?text=" + msg, "_blank");
  }

  // Charger les annonces en temps r√©el
  db.ref("market/annonces").on("value", snap => {
    const val = snap.val() || {};
    const list = [];
    Object.keys(val).forEach(key => {
      list.push({ id:key, ...val[key] });
    });
    annoncesCache = list;
    applyFilter();
  }, err => {
    console.error(err);
    listInfo.textContent = "Erreur de chargement";
  });

  // Gestion filtres
  document.querySelectorAll(".filter-chip").forEach(chip => {
    chip.addEventListener("click", () => {
      document.querySelectorAll(".filter-chip").forEach(c => c.classList.remove("active"));
      chip.classList.add("active");
      currentFilter = chip.getAttribute("data-cat") || "all";
      applyFilter();
    });
  });

  // Soumission formulaire
  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const titre = document.getElementById("titre").value.trim();
    const categorie = document.getElementById("categorie").value;
    const type = document.getElementById("type").value;
    const prixStr = document.getElementById("prix").value;
    const zone = document.getElementById("zone").value.trim();
    const tel = document.getElementById("tel").value.trim();
    const description = document.getElementById("description").value.trim();

    if(!titre || !categorie || !type || !zone || !tel){
      setStatus("Merci de remplir au minimum titre, cat√©gorie, type, zone et t√©l√©phone.", "bad");
      return;
    }

    const now = new Date();
    const payload = {
      titre,
      categorie,
      type,
      prix: prixStr ? Number(prixStr) : null,
      zone,
      tel,
      description: description || null,
      createdAt: now.toISOString(),
      createdAtTs: now.getTime(),
      source: "DIGIY MARKET V1"
    };

    try{
      btnSubmit.disabled = true;
      setStatus("Enregistrement de l‚Äôannonce‚Ä¶", "");
      await db.ref("market/annonces").push(payload);
      setStatus("‚úÖ Annonce publi√©e avec succ√®s.", "good");
      form.reset();
    }catch(err){
      console.error(err);
      setStatus("‚ùå Erreur lors de la publication. R√©essaie plus tard.", "bad");
    }finally{
      btnSubmit.disabled = false;
    }
  });
</script>
</body>
</html>
